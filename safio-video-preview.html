<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Safio ‚Äî Aper√ßu Vid√©o</title>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700;800;900&family=DM+Serif+Display:ital@0;1&display=swap" rel="stylesheet">
<style>
:root {
  --green: #00C878; --gold: #E8B84B; --gold2: #C9962A;
  --bg: #07080A; --card: #0F0F16; --muted: #55556A; --white: #F5F5F0;
}
* { margin:0; padding:0; box-sizing:border-box; }
body {
  background:#000;
  font-family:'Outfit',sans-serif;
  min-height:100vh;
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  padding:20px;
  overflow-x:hidden;
}

/* ‚îÄ‚îÄ PHONE FRAME ‚îÄ‚îÄ */
.phone-wrap {
  position:relative;
  width:320px;
  filter: drop-shadow(0 40px 80px rgba(0,200,120,.15)) drop-shadow(0 0 120px rgba(232,184,75,.08));
}
.phone-frame {
  width:320px; height:568px;
  background:#07080A;
  border-radius:36px;
  border:2px solid #1A1A2A;
  overflow:hidden;
  position:relative;
  box-shadow:0 0 0 1px #2A2A3A inset;
}
.phone-notch {
  position:absolute; top:0; left:50%; transform:translateX(-50%);
  width:90px; height:22px;
  background:#000; border-radius:0 0 14px 14px;
  z-index:10;
}

/* ‚îÄ‚îÄ SC√àNES ‚îÄ‚îÄ */
.scene {
  position:absolute; inset:0;
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  opacity:0; transition:none;
  overflow:hidden;
}
.scene.active { opacity:1; }

/* Sc√®ne 1 ‚Äî Hook */
.s1 { background:#07080A; }
.s1 .bar-bg {
  position:absolute; inset:0;
  background: radial-gradient(ellipse at 50% 80%, #3A1A0A 0%, #07080A 70%);
}
.s1 .crowd-lines { position:absolute; inset:0; overflow:hidden; }
.s1 .crowd-lines span {
  position:absolute; bottom:0; width:2px; border-radius:2px;
  background:linear-gradient(to top, #FF8C20, transparent);
  animation: flicker 1.2s infinite alternate;
}
.s1 .hook-text {
  position:relative; z-index:2; text-align:center; padding:20px;
}
.s1 .hook-text .warning {
  font-size:38px; margin-bottom:12px;
  animation: pulse-warn 0.6s ease-in-out infinite alternate;
}
.s1 .hook-text h2 {
  font-size:15px; font-weight:800; color:#FF5555; letter-spacing:.02em;
  text-transform:uppercase; margin-bottom:8px;
}
.s1 .hook-text p {
  font-size:11px; color:var(--muted); font-weight:400; line-height:1.5;
}

/* Sc√®ne 2 ‚Äî Probl√®me */
.s2 { background:#04060A; }
.s2 .split { display:flex; width:100%; height:100%; }
.s2 .split-l, .s2 .split-r {
  flex:1; display:flex; flex-direction:column; align-items:center; justify-content:center;
  padding:10px; gap:8px;
}
.s2 .split-l { background:linear-gradient(to bottom, #0A0E16, #07080A); border-right:1px solid #1A1A2A; }
.s2 .split-r { background:linear-gradient(to bottom, #160A0A, #07080A); }
.s2 .stat { font-size:22px; font-weight:900; color:#FF5555; line-height:1; }
.s2 .stat-sub { font-size:8px; color:var(--muted); text-align:center; line-height:1.4; }
.s2 .ok-icon { font-size:28px; }

/* Sc√®ne 3 ‚Äî Reveal */
.s3 { background:#07080A; }
.s3 .diamond-wrap { position:relative; width:100px; height:140px; margin-bottom:20px; }
.s3 .diamond-svg { width:100%; height:100%; }
.s3 .logo-text { font-size:38px; font-weight:900; color:var(--white); letter-spacing:-1px; }
.s3 .logo-sub { font-size:10px; color:var(--gold); letter-spacing:.12em; margin-top:6px; font-weight:300; }
.s3 .particles { position:absolute; inset:-40px; pointer-events:none; }
.particle {
  position:absolute; width:3px; height:3px; border-radius:50%;
  background:var(--gold); opacity:0;
}

/* Sc√®ne 4 ‚Äî Demo */
.s4 { background:linear-gradient(to bottom, #07080A, #080E0A); }
.s4 .phone-inner {
  background:#0A0A12; border-radius:16px; padding:14px;
  width:200px; border:1px solid #1A1A28;
  box-shadow:0 0 30px rgba(0,200,120,.12);
}
.s4 .search-bar {
  background:#13131E; border-radius:8px; padding:6px 10px;
  font-size:9px; color:var(--muted); margin-bottom:10px;
  border:1px solid #2A2A3A;
}
.s4 .score-big { text-align:center; }
.s4 .score-num {
  font-size:52px; font-weight:900; color:var(--green);
  line-height:1; letter-spacing:-2px;
}
.s4 .score-label { font-size:8px; color:var(--muted); margin-top:2px; }
.s4 .score-bar-wrap { margin-top:8px; background:#1A1A28; border-radius:4px; height:4px; overflow:hidden; }
.s4 .score-bar { height:100%; background:linear-gradient(to right,#00C878,#40FFB0); border-radius:4px; width:0; transition:width 1.5s ease; }
.s4 .place-name { font-size:9px; color:var(--white); font-weight:600; margin-top:6px; text-align:center; }

/* Sc√®ne 5 ‚Äî Features */
.s5 { background:#07080A; }
.s5 .checklist { display:flex; flex-direction:column; gap:10px; padding:20px; width:100%; }
.s5 .check-item {
  display:flex; align-items:center; gap:10px;
  background:#0F0F18; border-radius:10px; padding:10px 14px;
  border:1px solid #1A1A28; opacity:0; transform:translateX(-20px);
  transition: opacity .4s ease, transform .4s ease, border-color .3s;
}
.s5 .check-item.shown { opacity:1; transform:translateX(0); }
.s5 .check-item.checked { border-color: rgba(0,200,120,.4); }
.s5 .check-icon { font-size:16px; width:24px; text-align:center; }
.s5 .check-txt { font-size:10px; font-weight:600; color:var(--white); }
.s5 .check-sub { font-size:8px; color:var(--muted); margin-top:1px; }

/* Sc√®ne 6 ‚Äî Badge */
.s6 { background:linear-gradient(160deg,#0A0A08,#07080A); }
.s6 .badge-wrap { position:relative; margin-bottom:16px; }
.s6 .badge-glow {
  position:absolute; inset:-30px;
  background:radial-gradient(circle, rgba(232,184,75,.2) 0%, transparent 70%);
  animation:pulse-badge 2s ease infinite;
}
.s6 .badge-svg { width:110px; height:110px; }
.s6 .badge-label { font-size:11px; font-weight:700; color:var(--gold); margin-top:4px; letter-spacing:.05em; }
.s6 .badge-sub { font-size:9px; color:var(--muted); margin-top:4px; text-align:center; }

/* Sc√®ne 7 ‚Äî √âmotion */
.s7 { background:linear-gradient(to bottom, #100A04, #07080A); }
.s7 .emotion-wrap { text-align:center; padding:20px; }
.s7 .friends { font-size:48px; margin-bottom:16px; animation:float 3s ease-in-out infinite; }
.s7 .tagline { font-size:13px; color:var(--white); font-weight:700; line-height:1.5; margin-bottom:12px; }
.s7 .tagline em { color:var(--green); font-style:normal; }
.s7 .pill-free {
  display:inline-block; background:rgba(0,200,120,.12); border:1px solid rgba(0,200,120,.4);
  color:var(--green); font-size:9px; font-weight:700; padding:5px 14px; border-radius:100px;
  letter-spacing:.04em;
}

/* Sc√®ne 8 ‚Äî CTA */
.s8 { background:#07080A; }
.s8 .cta-logo { font-size:44px; font-weight:900; color:var(--white); letter-spacing:-1px; margin-bottom:6px; }
.s8 .cta-sub { font-size:10px; color:var(--gold); letter-spacing:.1em; margin-bottom:24px; font-weight:300; }
.s8 .dl-btn {
  background:linear-gradient(135deg,#C9962A,#E8B84B); color:#000;
  font-size:11px; font-weight:800; padding:12px 28px; border-radius:100px;
  text-decoration:none; display:inline-block; letter-spacing:.02em;
  box-shadow:0 8px 24px rgba(232,184,75,.3);
  animation:pulse-btn 2s ease infinite;
}
.s8 .stores { font-size:8px; color:var(--muted); margin-top:10px; }

/* Sc√®ne 9 ‚Äî Signature */
.s9 { background:#000; }
.s9 .sig-text {
  font-family:'DM Serif Display',serif; font-style:italic;
  font-size:16px; color:var(--white); text-align:center; padding:20px;
  line-height:1.6;
}
.s9 .sig-dot {
  width:8px; height:8px; border-radius:50%; background:var(--gold);
  margin:16px auto 0; animation:pulse-dot 1.5s ease infinite;
}

/* ‚îÄ‚îÄ PROGRESS BAR ‚îÄ‚îÄ */
.progress-wrap {
  position:absolute; bottom:12px; left:50%; transform:translateX(-50%);
  display:flex; gap:4px; z-index:20;
}
.prog-dot {
  width:20px; height:3px; border-radius:2px;
  background:rgba(255,255,255,.15); transition:all .3s;
}
.prog-dot.active { background:var(--green); width:28px; }
.prog-dot.done   { background:rgba(0,200,120,.4); }

/* ‚îÄ‚îÄ CONTROLS ‚îÄ‚îÄ */
.controls {
  display:flex; gap:12px; margin-top:20px; align-items:center;
}
.btn-ctrl {
  background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.1);
  color:var(--white); font-size:13px; padding:8px 20px; border-radius:100px;
  cursor:pointer; font-family:'Outfit',sans-serif; font-weight:600;
  transition:.15s; letter-spacing:.02em;
}
.btn-ctrl:hover { background:rgba(255,255,255,.1); }
.btn-ctrl.play { background:linear-gradient(135deg,#00A860,#00C878); color:#000; border:none; }
.scene-counter { font-size:11px; color:var(--muted); font-family:'Outfit',sans-serif; }

/* ‚îÄ‚îÄ SIDE INFO ‚îÄ‚îÄ */
.side-info {
  position:absolute; left:calc(50% + 190px);
  top:50%; transform:translateY(-50%);
  width:220px;
}
@media (max-width:800px) { .side-info { display:none; } }
.scene-info-card {
  background:rgba(15,15,22,.9); border:1px solid #1A1A2A;
  border-radius:12px; padding:16px; backdrop-filter:blur(10px);
}
.scene-info-card .si-num { font-size:28px; font-weight:900; color:var(--green); line-height:1; }
.scene-info-card .si-title { font-size:11px; font-weight:700; color:var(--white); margin:4px 0 8px; }
.scene-info-card .si-tc { font-size:10px; color:var(--muted); margin-bottom:10px; }
.scene-info-card .si-vo {
  font-size:10px; color:rgba(245,245,240,.7); line-height:1.5;
  border-left:2px solid var(--gold); padding-left:8px; font-style:italic;
  margin-bottom:10px;
}
.scene-info-card .si-note { font-size:9px; color:var(--muted); line-height:1.5; }

/* ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ */
.page-header { text-align:center; margin-bottom:24px; }
.page-header h1 { font-size:18px; color:var(--white); font-weight:800; }
.page-header p  { font-size:11px; color:var(--muted); margin-top:4px; }

/* ‚îÄ‚îÄ ANIMATIONS ‚îÄ‚îÄ */
@keyframes flicker { 0%{opacity:.4;transform:scaleY(.9)} 100%{opacity:1;transform:scaleY(1)} }
@keyframes pulse-warn { 0%{transform:scale(1)} 100%{transform:scale(1.1)} }
@keyframes pulse-badge { 0%,100%{opacity:.6} 50%{opacity:1} }
@keyframes pulse-btn { 0%,100%{box-shadow:0 8px 24px rgba(232,184,75,.3)} 50%{box-shadow:0 12px 32px rgba(232,184,75,.5)} }
@keyframes pulse-dot { 0%,100%{transform:scale(1);opacity:.7} 50%{transform:scale(1.6);opacity:1} }
@keyframes float { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-8px)} }
@keyframes spin-diamond { 0%{stroke-dashoffset:400} 100%{stroke-dashoffset:0} }
@keyframes particle-fly {
  0%{opacity:0;transform:translate(0,0) scale(0)}
  30%{opacity:1;transform:translate(var(--tx),var(--ty)) scale(1)}
  100%{opacity:0;transform:translate(calc(var(--tx)*2.5),calc(var(--ty)*2.5)) scale(0)}
}
@keyframes score-count { from{opacity:0;transform:scale(.5)} to{opacity:1;transform:scale(1)} }
@keyframes fade-in-up { from{opacity:0;transform:translateY(20px)} to{opacity:1;transform:translateY(0)} }

.s3-enter .diamond-svg path { stroke-dasharray:400; stroke-dashoffset:400; animation:spin-diamond 1.5s ease forwards; }
.s3-enter .logo-text { animation:fade-in-up .6s .8s ease both; }
.s3-enter .logo-sub  { animation:fade-in-up .6s 1s ease both; }
.s4-enter .score-num { animation:score-count .5s .3s ease both; }
</style>
</head>
<body>

<div class="page-header">
  <h1>safio <span style="color:var(--green)">‚óÜ</span> Aper√ßu Vid√©o</h1>
  <p>Instagram Reels ¬∑ TikTok ¬∑ YouTube Shorts ‚Äî 9:16 ¬∑ 45 secondes</p>
</div>

<div style="position:relative; display:flex; align-items:center; justify-content:center;">

  <!-- Phone -->
  <div class="phone-wrap">
    <div class="phone-frame" id="phoneFrame">
      <div class="phone-notch"></div>

      <!-- Sc√®ne 1 ‚Äî Hook -->
      <div class="scene s1 active" id="scene-0">
        <div class="bar-bg"></div>
        <div class="crowd-lines" id="crowdLines"></div>
        <div class="hook-text">
          <div class="warning">‚ö†Ô∏è</div>
          <h2>40% des bars :<br>non conformes</h2>
          <p>Tu sais vraiment ce qui<br>t'attend l√†-dedans ?</p>
        </div>
      </div>

      <!-- Sc√®ne 2 ‚Äî Probl√®me -->
      <div class="scene s2" id="scene-1">
        <div class="split">
          <div class="split-l">
            <div class="ok-icon">üòä</div>
            <div class="stat-sub" style="color:var(--white);font-weight:600;font-size:9px;">Client heureux</div>
            <div class="stat-sub">Aucune info<br>disponible</div>
          </div>
          <div class="split-r">
            <div style="font-size:28px;">üßØ</div>
            <div class="stat" style="font-size:14px;">P√âRIM√â</div>
            <div class="stat-sub" style="color:#FF5555;">Depuis 18 mois</div>
            <div class="stat-sub">Personne<br>ne le sait</div>
          </div>
        </div>
        <div style="position:absolute;bottom:40px;text-align:center;padding:0 20px;">
          <div style="font-size:20px;font-weight:900;color:#FF5555;">650 000</div>
          <div style="font-size:9px;color:var(--muted);margin-top:2px;">√©tablissements ¬∑ z√©ro transparence</div>
        </div>
      </div>

      <!-- Sc√®ne 3 ‚Äî Reveal -->
      <div class="scene s3" id="scene-2">
        <div class="particles" id="particles"></div>
        <div class="diamond-wrap">
          <svg class="diamond-svg" viewBox="0 0 100 140" fill="none">
            <!-- Glow -->
            <ellipse cx="50" cy="70" rx="48" ry="48" fill="rgba(0,200,120,0.08)"/>
            <!-- Losange ext -->
            <polygon points="50,8 92,70 50,132 8,70" stroke="rgba(232,184,75,0.3)" stroke-width="0.8" fill="none"/>
            <!-- Losange princ -->
            <polygon id="diamondPath" points="50,14 86,70 50,126 14,70"
              stroke="#E8B84B" stroke-width="2" fill="rgba(0,200,120,0.06)"
              stroke-dasharray="400" stroke-dashoffset="400"/>
            <!-- Facettes -->
            <line x1="50" y1="14" x2="86" y2="70" stroke="#E8B84B" stroke-width="0.6" opacity="0.5"/>
            <line x1="50" y1="14" x2="14" y2="70" stroke="#E8B84B" stroke-width="0.6" opacity="0.5"/>
            <line x1="50" y1="126" x2="86" y2="70" stroke="#E8B84B" stroke-width="0.6" opacity="0.4"/>
            <line x1="50" y1="126" x2="14" y2="70" stroke="#E8B84B" stroke-width="0.6" opacity="0.4"/>
            <!-- Points -->
            <circle cx="50" cy="14" r="3" fill="#F5D07A"/>
            <circle cx="86" cy="70" r="2" fill="#E8B84B"/>
            <circle cx="50" cy="126" r="2" fill="#E8B84B"/>
            <circle cx="14" cy="70" r="2" fill="#E8B84B"/>
            <!-- S vert -->
            <path id="sPath" d="M38,58 C38,50 43,46 50,46 C57,46 62,50 62,58 C62,65 57,68 50,68 C43,68 38,71 38,78 C38,85 43,89 50,89 C57,89 62,85 62,78"
              stroke="#00C878" stroke-width="2.5" stroke-linecap="round" fill="none"/>
          </svg>
        </div>
        <div class="logo-text">safio</div>
        <div class="logo-sub">SORTEZ L'ESPRIT TRANQUILLE</div>
      </div>

      <!-- Sc√®ne 4 ‚Äî Demo -->
      <div class="scene s4" id="scene-3">
        <div class="phone-inner">
          <div class="search-bar">üîç  Blanc-Mesnil Caf√©, Tours...</div>
          <div class="score-big">
            <div class="score-num" id="scoreNum">87</div>
            <div style="font-size:9px;color:var(--green);font-weight:700;">/100 ‚úÖ Conforme</div>
          </div>
          <div class="score-bar-wrap"><div class="score-bar" id="scoreBar"></div></div>
          <div class="place-name">üìç Blanc-Mesnil Caf√© ¬∑ Tours Centre</div>
          <div style="margin-top:10px;display:flex;gap:6px;flex-direction:column;">
            <div style="display:flex;justify-content:space-between;font-size:8px;">
              <span style="color:var(--muted)">Derni√®re visite</span>
              <span style="color:var(--white);font-weight:600;">12 jan. 2025</span>
            </div>
            <div style="display:flex;justify-content:space-between;font-size:8px;">
              <span style="color:var(--muted)">Cat√©gorie ERP</span>
              <span style="color:var(--white);font-weight:600;">5e cat√©gorie</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Sc√®ne 5 ‚Äî Features -->
      <div class="scene s5" id="scene-4">
        <div style="font-size:10px;font-weight:700;color:var(--muted);text-transform:uppercase;letter-spacing:.08em;padding:20px 20px 0;">Ce qui est v√©rifi√©</div>
        <div class="checklist">
          <div class="check-item" id="ci0">
            <div class="check-icon">üßØ</div>
            <div><div class="check-txt">Extincteurs</div><div class="check-sub">Date & conformit√© v√©rifi√©es</div></div>
          </div>
          <div class="check-item" id="ci1">
            <div class="check-icon">üö™</div>
            <div><div class="check-txt">Issues de secours</div><div class="check-sub">Signalisation & d√©gagement</div></div>
          </div>
          <div class="check-item" id="ci2">
            <div class="check-icon">üî•</div>
            <div><div class="check-txt">D√©tecteurs fum√©e</div><div class="check-sub">Test annuel obligatoire</div></div>
          </div>
          <div class="check-item" id="ci3">
            <div class="check-icon">üí°</div>
            <div><div class="check-txt">√âclairage s√©curit√©</div><div class="check-sub">Balisage r√©glementaire</div></div>
          </div>
          <div class="check-item" id="ci4">
            <div class="check-icon">üìã</div>
            <div><div class="check-txt">Registre s√©curit√©</div><div class="check-sub">√Ä jour & accessible</div></div>
          </div>
        </div>
      </div>

      <!-- Sc√®ne 6 ‚Äî Badge -->
      <div class="scene s6" id="scene-5">
        <div class="badge-wrap">
          <div class="badge-glow"></div>
          <svg class="badge-svg" viewBox="0 0 110 110" fill="none">
            <polygon points="55,8 102,55 55,102 8,55" fill="rgba(232,184,75,0.08)" stroke="#E8B84B" stroke-width="2"/>
            <polygon points="55,18 92,55 55,92 18,55" fill="none" stroke="rgba(232,184,75,0.4)" stroke-width="0.8"/>
            <circle cx="55" cy="55" r="20" fill="rgba(0,200,120,0.08)" stroke="#00C878" stroke-width="1.5"/>
            <path d="M44,50 C44,44 48,41 55,41 C62,41 66,44 66,50 C66,55 62,57 55,57 C48,57 44,59 44,65 C44,71 48,74 55,74 C62,74 66,71 66,65"
              stroke="#00C878" stroke-width="2" stroke-linecap="round" fill="none"/>
            <circle cx="55" cy="8"  r="3" fill="#F5D07A"/>
            <circle cx="102" cy="55" r="2.5" fill="#E8B84B"/>
            <circle cx="55" cy="102" r="2.5" fill="#E8B84B"/>
            <circle cx="8" cy="55"  r="2.5" fill="#E8B84B"/>
          </svg>
        </div>
        <div class="badge-label">üî∑ Certifi√© Safio</div>
        <div class="badge-sub">Score v√©rifi√© sur place<br>par un bureau de contr√¥le agr√©√©</div>
      </div>

      <!-- Sc√®ne 7 ‚Äî √âmotion -->
      <div class="scene s7" id="scene-6">
        <div class="emotion-wrap">
          <div class="friends">üë©‚Äçüë©‚Äçüë¶</div>
          <div class="tagline">Parce que sortir,<br>c'est bien.<br><em>Sortir en s√©curit√©,<br>c'est mieux.</em></div>
          <div class="pill-free">Gratuit ¬∑ Sans inscription</div>
        </div>
      </div>

      <!-- Sc√®ne 8 ‚Äî CTA -->
      <div class="scene s8" id="scene-7">
        <div class="cta-logo">safio</div>
        <div class="cta-sub">SORTEZ L'ESPRIT TRANQUILLE</div>
        <a href="#" class="dl-btn">‚¨á T√©l√©charger</a>
        <div class="stores" style="margin-top:10px;">App Store ¬∑ Google Play ¬∑ Gratuit</div>
      </div>

      <!-- Sc√®ne 9 ‚Äî Signature -->
      <div class="scene s9" id="scene-8">
        <div class="sig-text">"Sortez<br>l'esprit<br>tranquille"</div>
        <div class="sig-dot"></div>
      </div>

      <!-- Progress bar -->
      <div class="progress-wrap" id="progressWrap"></div>

    </div><!-- phone-frame -->
  </div><!-- phone-wrap -->

  <!-- Side info -->
  <div class="side-info" id="sideInfo">
    <div class="scene-info-card">
      <div class="si-num" id="siNum">01</div>
      <div class="si-title" id="siTitle">HOOK ‚Äî Le choc</div>
      <div class="si-tc" id="siTc">0:00 ‚Äì 0:03 ¬∑ 3s</div>
      <div class="si-vo" id="siVo">"Tu sais vraiment ce qui t'attend l√†-dedans ?"</div>
      <div class="si-note" id="siNote">‚úÇ Cut sec sur le noir. Silence 0.5s + bass drop.</div>
    </div>
  </div>

</div><!-- position relative -->

<!-- Controls -->
<div class="controls">
  <button class="btn-ctrl" id="btnPrev" onclick="prev()">‚Üê Pr√©c.</button>
  <button class="btn-ctrl play" id="btnPlay" onclick="togglePlay()">‚ñ∂ Play</button>
  <button class="btn-ctrl" id="btnNext" onclick="next()">Suiv. ‚Üí</button>
  <span class="scene-counter" id="sceneCounter">Sc√®ne 1 / 9</span>
</div>

<script>
const SCENE_DATA = [
  {title:'HOOK ‚Äî Le choc',          tc:'0:00 ‚Äì 0:03 ¬∑ 3s', dur:3000, vo:'"Tu sais vraiment ce qui t\'attend l√†-dedans ?"',     note:'‚úÇ Cut sec sur le noir. Silence 0.5s + bass drop.'},
  {title:'PROBL√àME ‚Äî L\'invisible', tc:'0:03 ‚Äì 0:08 ¬∑ 5s', dur:5000, vo:'"Extincteurs. Issues de secours. Tu n\'en sais rien."',note:'‚úÇ Glitch transition. Chiffres en rouge gras.'},
  {title:'REVEAL ‚Äî Safio arrive',   tc:'0:08 ‚Äì 0:13 ¬∑ 5s', dur:5000, vo:'"Maintenant tu peux savoir. Avant d\'entrer."',        note:'‚úÇ Animation losange 2s. Son cristallin. Beat change.'},
  {title:'D√âMO ‚Äî Score en direct',  tc:'0:13 ‚Äì 0:20 ¬∑ 7s', dur:7000, vo:'"Safio t\'affiche son score de s√©curit√© en temps r√©el."',note:'‚úÇ Screen recording de l\'app. Zoom sur le score.'},
  {title:'FEATURES ‚Äî V√©rifications',tc:'0:20 ‚Äì 0:26 ¬∑ 6s', dur:6000, vo:'"Extincteurs, d√©tecteurs, issues. Tout v√©rifi√©."',    note:'‚úÇ 0.5s par item. Son check √† chaque ligne.'},
  {title:'PREUVE ‚Äî Badge vitrine',  tc:'0:26 ‚Äì 0:30 ¬∑ 4s', dur:4000, vo:'"Le badge dor√© : il est certifi√©. Tu peux entrer."',  note:'‚úÇ Lumi√®re chaude. Bokeh fort. Son QR scan.'},
  {title:'√âMOTION ‚Äî La sortie',     tc:'0:30 ‚Äì 0:35 ¬∑ 5s', dur:5000, vo:'"Sortir, c\'est bien. Sortir en s√©curit√©, c\'est mieux."',note:'‚úÇ Ralenti 50%. Couleurs chaudes satur√©es.'},
  {title:'CTA ‚Äî T√©l√©charge',        tc:'0:35 ‚Äì 0:42 ¬∑ 7s', dur:7000, vo:'"Safio. T√©l√©charge maintenant. C\'est gratuit."',      note:'‚úÇ Typo tr√®s grande. Scale animation. Fade musique.'},
  {title:'SIGNATURE ‚Äî Fin',         tc:'0:42 ‚Äì 0:45 ¬∑ 3s', dur:3000, vo:'(silence total)',                                      note:'‚úÇ Silence. Point dor√© pulse 2√ó. Fade to black.'},
];

let current=0, playing=false, timer=null, progTimer=null;

// Build progress dots
const pw=document.getElementById('progressWrap');
SCENE_DATA.forEach((_,i)=>{
  const d=document.createElement('div'); d.className='prog-dot'; d.id=`pd${i}`; pw.appendChild(d);
});

// Build crowd lines for S1
const cl=document.getElementById('crowdLines');
for(let i=0;i<14;i++){
  const s=document.createElement('span');
  s.style.left=(5+i*7)+'%'; s.style.height=(40+Math.random()*120)+'px';
  s.style.animationDelay=(Math.random()*1.2)+'s'; s.style.animationDuration=(.8+Math.random()*.8)+'s';
  cl.appendChild(s);
}

// Particles for S3
const pc=document.getElementById('particles');
for(let i=0;i<18;i++){
  const p=document.createElement('div'); p.className='particle';
  const angle=(i/18)*360; const dist=50+Math.random()*60;
  const tx=Math.cos(angle*Math.PI/180)*dist; const ty=Math.sin(angle*Math.PI/180)*dist;
  p.style.cssText=`left:50%;top:50%;--tx:${tx}px;--ty:${ty}px;background:${Math.random()>.5?'#E8B84B':'#00C878'};`;
  pc.appendChild(p);
}

function goTo(n){
  const prev2=document.getElementById(`scene-${current}`);
  if(prev2) prev2.classList.remove('active','s3-enter','s4-enter');
  document.getElementById(`pd${current}`)?.classList.remove('active');
  document.getElementById(`pd${current}`)?.classList.add('done');
  if(n<current){
    for(let i=n;i<=current;i++) document.getElementById(`pd${i}`)?.classList.remove('done','active');
  }
  current=n;
  const sc=document.getElementById(`scene-${current}`);
  sc.classList.add('active');
  if(current===2) { sc.classList.add('s3-enter'); animateDiamond(); }
  if(current===3) { sc.classList.add('s4-enter'); animateScore(); }
  if(current===4) animateChecklist();
  document.getElementById(`pd${current}`)?.classList.add('active');
  document.getElementById(`pd${current}`)?.classList.remove('done');
  updateSideInfo();
  document.getElementById('sceneCounter').textContent=`Sc√®ne ${current+1} / 9`;
}

function animateDiamond(){
  const dp=document.getElementById('diamondPath');
  if(!dp) return;
  dp.style.transition='none'; dp.style.strokeDashoffset='400';
  setTimeout(()=>{ dp.style.transition='stroke-dashoffset 1.5s ease'; dp.style.strokeDashoffset='0'; },50);
  // Particles
  document.querySelectorAll('.particle').forEach((p,i)=>{
    p.style.animation='none';
    setTimeout(()=>{ p.style.animation=`particle-fly ${.8+Math.random()*.6}s ${i*80}ms ease forwards`; },100);
  });
}

function animateScore(){
  const bar=document.getElementById('scoreBar');
  if(bar){ bar.style.width='0'; setTimeout(()=>{ bar.style.width='87%'; },300); }
}

function animateChecklist(){
  [0,1,2,3,4].forEach(i=>{
    const el=document.getElementById(`ci${i}`);
    if(!el) return;
    el.classList.remove('shown','checked');
    setTimeout(()=>{ el.classList.add('shown'); setTimeout(()=>el.classList.add('checked'),200); }, 400+i*500);
  });
}

function updateSideInfo(){
  const d=SCENE_DATA[current];
  document.getElementById('siNum').textContent=(current+1).toString().padStart(2,'0');
  document.getElementById('siTitle').textContent=d.title;
  document.getElementById('siTc').textContent=d.tc;
  document.getElementById('siVo').textContent=d.vo;
  document.getElementById('siNote').textContent=d.note;
}

function next(){ clearTimeout(timer); const n=(current+1)%9; goTo(n); if(playing) scheduleNext(); }
function prev(){ clearTimeout(timer); const n=(current+8)%9; goTo(n); if(playing) scheduleNext(); }

function scheduleNext(){
  clearTimeout(timer);
  timer=setTimeout(()=>{ next(); }, SCENE_DATA[current].dur);
}

function togglePlay(){
  playing=!playing;
  document.getElementById('btnPlay').textContent=playing?'‚è∏ Pause':'‚ñ∂ Play';
  if(playing) scheduleNext(); else clearTimeout(timer);
}

// Init
goTo(0);
</script>
</body>
</html>
